<div class="disaster-card">
  <h1><%= @disaster.name %></h1>
  <p><%= @disaster.description %></p>
  <p><strong>Location:</strong> <%= @disaster.location %></p>
  <p><strong>Intensity:</strong> <%= @disaster.intensity %></p>
  <p><strong>Price:</strong> $<%= @disaster.price %></p>

  <!-- Booking popup form -->
  <div data-controller="toggle">
    <button data-action="click->toggle#fire" class="btn btn-primary">
      Book This Disaster
    </button>

    <div data-toggle-target="togglableElement" class="d-none">
      <div class="modal-overlay">
        <div class="modal-content">
          <h3>Book <%= @disaster.name %></h3>
          <%= simple_form_for [@disaster, @booking] do |f| %>
            <%= f.input :start_date,
                        as: :string,
                        input_html: { data: { controller: "datepicker" } } %>
            <%= f.input :end_date,
                        as: :string,
                        input_html: { data: { controller: "datepicker" } } %>
            <%= f.submit "Book Now", class: "btn btn-success" %>
            <button type="button" data-action="click->toggle#fire" class="btn btn-secondary">
              Cancel
            </button>
          <% end %>
        </div>
      </div>
    </div>
  </div>
</div>
